\section{Dokumentacja klasy State\+Manager}
\label{class_state_manager}\index{StateManager@{StateManager}}


Klasa reprezentująca menadżer stanów gry.  




{\ttfamily \#include $<$State\+Manager.\+h$>$}

Diagram dziedziczenia dla State\+Manager\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_state_manager}
\end{center}
\end{figure}
\subsection*{Metody publiczne}
\begin{DoxyCompactItemize}
\item 
\textbf{ State\+Manager} (Event\+Callback exit\+Application\+Callback)
\begin{DoxyCompactList}\small\item\em Konstruktor. \end{DoxyCompactList}\item 
\textbf{ $\sim$\+State\+Manager} ()
\begin{DoxyCompactList}\small\item\em Destruktor. \end{DoxyCompactList}\item 
void \textbf{ push\+State} (unique\+\_\+ptr$<$ \textbf{ Base\+State} $>$ state)
\begin{DoxyCompactList}\small\item\em Metoda odkłada nowy stan gry na szczyt stosu. \end{DoxyCompactList}\item 
void \textbf{ pop\+State} ()
\begin{DoxyCompactList}\small\item\em Metoda zdejmuje aktualny stan gry ze szczytu stosu. \end{DoxyCompactList}\item 
void \textbf{ change\+State} (unique\+\_\+ptr$<$ \textbf{ Base\+State} $>$ state)
\begin{DoxyCompactList}\small\item\em Metoda podmienia aktualny stan gry. \end{DoxyCompactList}\item 
void \textbf{ exit\+Application} ()
\begin{DoxyCompactList}\small\item\em Metoda wywołuje callback wyjścia z aplikacji. \end{DoxyCompactList}\item 
void \textbf{ update} (sf\+::\+Event \&e, sf\+::\+Render\+Window \&window)
\begin{DoxyCompactList}\small\item\em Metoda odpowiadająca za odświeżanie aktualnego stanu gry. \end{DoxyCompactList}\item 
void \textbf{ draw} ()
\begin{DoxyCompactList}\small\item\em Renderuja aktualny stan gry. \end{DoxyCompactList}\item 
void \textbf{ add\+Top\+To\+Delete} ()
\begin{DoxyCompactList}\small\item\em Metoda dodaje aktualny stan gry do usunięcia. \end{DoxyCompactList}\item 
\textbf{ Base\+State} $\ast$ \textbf{ get\+Current\+State} () const
\begin{DoxyCompactList}\small\item\em Metoda zwraca wskaźnik do aktualnego stanu gry. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Dodatkowe Dziedziczone Składowe}


\subsection{Opis szczegółowy}
Klasa reprezentująca menadżer stanów gry. 

Klasa ta zarządza wszystkimi stanami gry. Implementuje stos unikalnych wskaźników na poszczególne stany gry które są na niego odkładane. Aktualny stan gry znajduje się na szcycie stosu i tylko on jest odświeżany oraz renderowany. Pozostałe \char`\"{}poniższe\char`\"{} stany są zamrożone i czekają na swoją kolej. Menedżer stanów umożliwia dodawanie oraz usuwanie stanów gry ze stostu. Każdy stan gry musi dziedziczyć z abstrakcyjnej klasy \doxyref{Base\+State}{str.}{class_base_state} i to na jej metodach operuje menedżer stanów. Jeśli stos okaże się pusty, metoda wywołuje callback informujący głowną klasę aplikacji o zakończeniu wykonywania się programu i konieczności jego zamknięcia. 

\subsection{Dokumentacja konstruktora i destruktora}
\mbox{\label{class_state_manager_ad423b48fa655de34d3664fdf86fcce8f}} 
\index{StateManager@{StateManager}!StateManager@{StateManager}}
\index{StateManager@{StateManager}!StateManager@{StateManager}}
\subsubsection{StateManager()}
{\footnotesize\ttfamily State\+Manager\+::\+State\+Manager (\begin{DoxyParamCaption}\item[{Event\+Callback}]{exit\+Application\+Callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Konstruktor. 

Ustawia callback informujący obiekt klasy \doxyref{Application}{str.}{class_application} o konieczności zakończenia programu. \mbox{\label{class_state_manager_a05a43504a033f1befad5c5118249ec6f}} 
\index{StateManager@{StateManager}!````~StateManager@{$\sim$StateManager}}
\index{````~StateManager@{$\sim$StateManager}!StateManager@{StateManager}}
\subsubsection{$\sim$StateManager()}
{\footnotesize\ttfamily State\+Manager\+::$\sim$\+State\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destruktor. 

Jeśli przy wywołaniu destruktora stos jest niepusty, to zdejmuje on z niego i niszczy wszystkie zalegające stany gry. 

\subsection{Dokumentacja funkcji składowych}
\mbox{\label{class_state_manager_a57e8a0bd890e33d9470a43bbfb6f5f39}} 
\index{StateManager@{StateManager}!addTopToDelete@{addTopToDelete}}
\index{addTopToDelete@{addTopToDelete}!StateManager@{StateManager}}
\subsubsection{addTopToDelete()}
{\footnotesize\ttfamily void State\+Manager\+::add\+Top\+To\+Delete (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Metoda dodaje aktualny stan gry do usunięcia. 

Stan gry ze szczytu stosu odkładany jest na osobny stos który przy następnej aktualizacji zwalnia ten stan gry. Umożlwia to aktualnemu stanowi dokończenie odświeżania i zapobiega generowaniu błędów związanych z odświeżaniem elementów po których zwolniono już pamięć. Np. wciskając przycisk, reakcją na to zdarzenie byłoby natychmiastowe usunięcie stanu gry, podczas gdy funckja odświeżania tego stanu nie byłaby zakończona i chciałaby dokończyć operację aktualizacji dla elementów wobec których zwolniono już pamięć. \begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_state_manager_a18c74ec51a309d3788f2b7120bfb6a95}} 
\index{StateManager@{StateManager}!changeState@{changeState}}
\index{changeState@{changeState}!StateManager@{StateManager}}
\subsubsection{changeState()}
{\footnotesize\ttfamily void State\+Manager\+::change\+State (\begin{DoxyParamCaption}\item[{unique\+\_\+ptr$<$ \textbf{ Base\+State} $>$}]{state }\end{DoxyParamCaption})}



Metoda podmienia aktualny stan gry. 

Aktualny stan gry zostaje zdjęty ze stosu i zastąpiony nowym przekazanym w agrumencie. \begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_state_manager_a22666f2f72320ea3be46e9253b7530e2}} 
\index{StateManager@{StateManager}!draw@{draw}}
\index{draw@{draw}!StateManager@{StateManager}}
\subsubsection{draw()}
{\footnotesize\ttfamily void State\+Manager\+::draw (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Renderuja aktualny stan gry. 

\begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_state_manager_ae5a53245c8864b505c69e47c1b010c21}} 
\index{StateManager@{StateManager}!exitApplication@{exitApplication}}
\index{exitApplication@{exitApplication}!StateManager@{StateManager}}
\subsubsection{exitApplication()}
{\footnotesize\ttfamily void State\+Manager\+::exit\+Application (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Metoda wywołuje callback wyjścia z aplikacji. 

Metoda wywoływana jest przy konieczności zakończenia aplikacji, np. gdy na stosie nie ma już więcej stanów gry (stos pusty). Wywołuje ona funkcję \doxyref{callback()}{str.}{class_callback_aaebe8091c4099db434d3328f10108947} która ustawiona na odpowiednią metodę klasy \doxyref{Application}{str.}{class_application} informuję tamtą klasę o konieczności zamknięcia aplikacji. \begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_state_manager_af894c080e98a224579247d2654c36e7a}} 
\index{StateManager@{StateManager}!getCurrentState@{getCurrentState}}
\index{getCurrentState@{getCurrentState}!StateManager@{StateManager}}
\subsubsection{getCurrentState()}
{\footnotesize\ttfamily \textbf{ Base\+State}$\ast$ State\+Manager\+::get\+Current\+State (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Metoda zwraca wskaźnik do aktualnego stanu gry. 

Metoda zwraca wskaźnik do aktualnego stanu gry (stanu ze szczytu stosu stanów gry). \begin{DoxyReturn}{Zwraca}
Base\+State$\ast$ 
\end{DoxyReturn}
\mbox{\label{class_state_manager_a1c5f8c0609e74fb2346b6b7f5930bb38}} 
\index{StateManager@{StateManager}!popState@{popState}}
\index{popState@{popState}!StateManager@{StateManager}}
\subsubsection{popState()}
{\footnotesize\ttfamily void State\+Manager\+::pop\+State (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Metoda zdejmuje aktualny stan gry ze szczytu stosu. 

Aktualny stan gry zostaje zdjęty ze stosu, zniszczony i zostaje zwolniona pamięć po nim. \begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_state_manager_add75645cd390e13f093fe77b48a7b6d1}} 
\index{StateManager@{StateManager}!pushState@{pushState}}
\index{pushState@{pushState}!StateManager@{StateManager}}
\subsubsection{pushState()}
{\footnotesize\ttfamily void State\+Manager\+::push\+State (\begin{DoxyParamCaption}\item[{unique\+\_\+ptr$<$ \textbf{ Base\+State} $>$}]{state }\end{DoxyParamCaption})}



Metoda odkłada nowy stan gry na szczyt stosu. 

\begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_state_manager_a1e89f3c2cf843b80c620f14d8521d865}} 
\index{StateManager@{StateManager}!update@{update}}
\index{update@{update}!StateManager@{StateManager}}
\subsubsection{update()}
{\footnotesize\ttfamily void State\+Manager\+::update (\begin{DoxyParamCaption}\item[{sf\+::\+Event \&}]{e,  }\item[{sf\+::\+Render\+Window \&}]{window }\end{DoxyParamCaption})}



Metoda odpowiadająca za odświeżanie aktualnego stanu gry. 

Odświeża aktualny stan gry (ze szczytu stostu). Stany gry przeznaczone do usunięcia (znajdujące się na osobnym stosie) zwalnia i usuwa. 
\begin{DoxyParams}{Parametry}
{\em e} & Referencja do zdarzenia jakie wystapiło. \\
\hline
{\em window} & Referencja do okna aplikacji w którym należy wyrysować obiekt. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}


Dokumentacja dla tej klasy została wygenerowana z plików\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Karol/source/repos/\+Gra\+G\+O/\+Gra\+G\+O/State\+Manager.\+h\item 
C\+:/\+Users/\+Karol/source/repos/\+Gra\+G\+O/\+Gra\+G\+O/State\+Manager.\+cpp\end{DoxyCompactItemize}
