\section{Dokumentacja klasy Game\+State\+Network}
\label{class_game_state_network}\index{GameStateNetwork@{GameStateNetwork}}


Klasa reprezentująca stan aplikacji typu gra sieciowa.  




{\ttfamily \#include $<$Game\+State\+Network.\+h$>$}

Diagram dziedziczenia dla Game\+State\+Network\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_game_state_network}
\end{center}
\end{figure}
\subsection*{Metody publiczne}
\begin{DoxyCompactItemize}
\item 
\textbf{ Game\+State\+Network} (\textbf{ State\+Manager} $\ast$state, const \textbf{ Utilities} \&\textbf{ utilities}, \textbf{ Network\+Thread} $\ast$nt, std\+::thread $\ast$running\+Thread, Field\+Color color)
\begin{DoxyCompactList}\small\item\em Konstruktor. \end{DoxyCompactList}\item 
\textbf{ $\sim$\+Game\+State\+Network} ()
\begin{DoxyCompactList}\small\item\em Destruktor. \end{DoxyCompactList}\item 
void \textbf{ update} (sf\+::\+Event \&e, sf\+::\+Render\+Window \&window)
\begin{DoxyCompactList}\small\item\em Odświeża stan obiektu, reaguje na zdarzenia. \end{DoxyCompactList}\item 
void \textbf{ draw} () const
\begin{DoxyCompactList}\small\item\em Renderuje stan gry. \end{DoxyCompactList}\item 
void \textbf{ process\+Data} (std\+::string s)
\begin{DoxyCompactList}\small\item\em Metoda przetwarza odebrane z sieci dane. \end{DoxyCompactList}\item 
void \textbf{ data\+Received} ()
\begin{DoxyCompactList}\small\item\em Metoda reaguje na odbiór danych. \end{DoxyCompactList}\item 
void \textbf{ disconnected} ()
\begin{DoxyCompactList}\small\item\em Zmienia stan połączenia na rozłączone. \end{DoxyCompactList}\item 
void \textbf{ disconnect} ()
\begin{DoxyCompactList}\small\item\em Metoda reaguje na niespodziewane rozłączenie. \end{DoxyCompactList}\item 
void \textbf{ put\+Stone} (unsigned int x, unsigned int y)
\begin{DoxyCompactList}\small\item\em Metoda stawiania pionu na planszy. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Dodatkowe Dziedziczone Składowe}


\subsection{Opis szczegółowy}
Klasa reprezentująca stan aplikacji typu gra sieciowa. 

Dziedziczy z klasy \doxyref{Game\+State}{str.}{class_game_state} rozszerzając jej funkcjonalność o możliwość gry przez sieć z innym graczem. Odpowiada za ustanawianie i zakończanie połączeń. 

\subsection{Dokumentacja konstruktora i destruktora}
\mbox{\label{class_game_state_network_a615e5b3fb315080aaf13429a657779ff}} 
\index{GameStateNetwork@{GameStateNetwork}!GameStateNetwork@{GameStateNetwork}}
\index{GameStateNetwork@{GameStateNetwork}!GameStateNetwork@{GameStateNetwork}}
\subsubsection{GameStateNetwork()}
{\footnotesize\ttfamily Game\+State\+Network\+::\+Game\+State\+Network (\begin{DoxyParamCaption}\item[{\textbf{ State\+Manager} $\ast$}]{state,  }\item[{const \textbf{ Utilities} \&}]{utilities,  }\item[{\textbf{ Network\+Thread} $\ast$}]{nt,  }\item[{std\+::thread $\ast$}]{running\+Thread,  }\item[{Field\+Color}]{color }\end{DoxyParamCaption})}



Konstruktor. 

Inicjalizuje niezbędne pola na podstawie przekazanych argumentów. Wywołuje jawnie konstruktor klasy bazowej \doxyref{Game\+State}{str.}{class_game_state}. Łączy zdarzenia sieciowe (ustanowienie połącznia, przekroczony czas łączenia itp.) z odpowiednimi metodami (mechanizm callback). Tworzy pola z przyciskami dla planszy. 
\begin{DoxyParams}{Parametry}
{\em state} & Menedżer stanów. \\
\hline
{\em utilities} & Struktura przydatnych obiektów/zmiennych \\
\hline
{\em nt} & Wskaźnik na obiekt klasy Network Thread \\
\hline
{\em running\+Thread} & Wskaźnik na istniejący wątek opodowiadający na obsługę blokujących gniad. \\
\hline
{\em color} & Kolor gracza lokalnego. \\
\hline
\end{DoxyParams}
\mbox{\label{class_game_state_network_a66606e9f79ee60b676ebc5bafeee9deb}} 
\index{GameStateNetwork@{GameStateNetwork}!````~GameStateNetwork@{$\sim$GameStateNetwork}}
\index{````~GameStateNetwork@{$\sim$GameStateNetwork}!GameStateNetwork@{GameStateNetwork}}
\subsubsection{$\sim$GameStateNetwork()}
{\footnotesize\ttfamily Game\+State\+Network\+::$\sim$\+Game\+State\+Network (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destruktor. 

Wymuszone wywołanie np. gracz rezygnujący z połączenia, zamyka dodatkowo utworzony wątek łączenia i niszczy obiekt. 

\subsection{Dokumentacja funkcji składowych}
\mbox{\label{class_game_state_network_afff1f2e622f3cb32505323ebf855c757}} 
\index{GameStateNetwork@{GameStateNetwork}!dataReceived@{dataReceived}}
\index{dataReceived@{dataReceived}!GameStateNetwork@{GameStateNetwork}}
\subsubsection{dataReceived()}
{\footnotesize\ttfamily void Game\+State\+Network\+::data\+Received (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Metoda reaguje na odbiór danych. 

Metoda callback przekazywana do obiektu odpowiadającego za przetwarzanie zdarzeń sieciowych. Wywoływana przez ten obiekt w reakcji na odbiór danych z sieci. Przekazuje odebrany pakiet jako argument metody \doxyref{process\+Data(std\+::string)}{str.}{class_game_state_network_a128f9eefdbbed4059b8ed89a649a3d6c}

\begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_game_state_network_a79c90dfa79c0fc09dd814b53b7d2715d}} 
\index{GameStateNetwork@{GameStateNetwork}!disconnect@{disconnect}}
\index{disconnect@{disconnect}!GameStateNetwork@{GameStateNetwork}}
\subsubsection{disconnect()}
{\footnotesize\ttfamily void Game\+State\+Network\+::disconnect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Metoda reaguje na niespodziewane rozłączenie. 

Metoda callback przekazywana do obiektu odpowiadającego za przetwarzanie zdarzeń sieciowych. Wywoływana przez ten obiekt w reakcji na rozłączenie się drugiego gracza. Wstawia na stos menadżera stanów, stan informujący o nieprzewidzianym zakończeniu rozgrywki na skutek utraty połączenia.

\begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_game_state_network_ac2b91efa7550c4640a8df6b381865e15}} 
\index{GameStateNetwork@{GameStateNetwork}!disconnected@{disconnected}}
\index{disconnected@{disconnected}!GameStateNetwork@{GameStateNetwork}}
\subsubsection{disconnected()}
{\footnotesize\ttfamily void Game\+State\+Network\+::disconnected (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Zmienia stan połączenia na rozłączone. 

Metoda mechanizmu callback.

\begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_game_state_network_a317d2f89b4ff7eae365d50fc72cebf50}} 
\index{GameStateNetwork@{GameStateNetwork}!draw@{draw}}
\index{draw@{draw}!GameStateNetwork@{GameStateNetwork}}
\subsubsection{draw()}
{\footnotesize\ttfamily void Game\+State\+Network\+::draw (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Renderuje stan gry. 

Renderuje stan gry \begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}


Reimplementowana z \textbf{ Game\+State} \doxyref{}{str.}{class_game_state_a9e91078624a59e51ed3fca1361933d99}.

\mbox{\label{class_game_state_network_a128f9eefdbbed4059b8ed89a649a3d6c}} 
\index{GameStateNetwork@{GameStateNetwork}!processData@{processData}}
\index{processData@{processData}!GameStateNetwork@{GameStateNetwork}}
\subsubsection{processData()}
{\footnotesize\ttfamily void Game\+State\+Network\+::process\+Data (\begin{DoxyParamCaption}\item[{std\+::string}]{s }\end{DoxyParamCaption})}



Metoda przetwarza odebrane z sieci dane. 

Metoda interpretuje odebrany pakiet danych z sieci, wyznacz zaistniałą akcję\+: -\/nadanie koloru gracza, -\/wykonanie ruchu gracza (postawienie pionu na planszy), -\/pass przeciwnika 
\begin{DoxyParams}{Parametry}
{\em s} & pakiet danych \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_game_state_network_a58a4acc31baf88e069ab9e02bbab2087}} 
\index{GameStateNetwork@{GameStateNetwork}!putStone@{putStone}}
\index{putStone@{putStone}!GameStateNetwork@{GameStateNetwork}}
\subsubsection{putStone()}
{\footnotesize\ttfamily void Game\+State\+Network\+::put\+Stone (\begin{DoxyParamCaption}\item[{unsigned int}]{x,  }\item[{unsigned int}]{y }\end{DoxyParamCaption})}



Metoda stawiania pionu na planszy. 

Metoda odpowiada za postawienie pionu na planszy podczas ruchu gracza \char`\"{}lokalnego\char`\"{}. Jesli ruch jest poprawny informacja o ruchu przesyłana jest do przeciwnika, a przyciski planszy zostają zablokowane. 
\begin{DoxyParams}{Parametry}
{\em x} & Kolumna planszy na której znaduje się pion. \\
\hline
{\em y} & Wiersz planszy na której znaduje się pion. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}
\mbox{\label{class_game_state_network_a16dd9c3357c5f9220480f0b031947da8}} 
\index{GameStateNetwork@{GameStateNetwork}!update@{update}}
\index{update@{update}!GameStateNetwork@{GameStateNetwork}}
\subsubsection{update()}
{\footnotesize\ttfamily void Game\+State\+Network\+::update (\begin{DoxyParamCaption}\item[{sf\+::\+Event \&}]{e,  }\item[{sf\+::\+Render\+Window \&}]{window }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Odświeża stan obiektu, reaguje na zdarzenia. 

Odświezą ten stan gry i elementy potomne. Wykrywa rozłączenie połączenia. Wykrywa spasowanie gracza i wysyła informajcę o tym do przeciwnika. 
\begin{DoxyParams}{Parametry}
{\em e} & Zdarzenie \\
\hline
{\em window} & Okno głowne aplikacji \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Zwraca}
void 
\end{DoxyReturn}


Reimplementowana z \textbf{ Game\+State} \doxyref{}{str.}{class_game_state_a41f5e25772762e990b289d17d6c005d3}.



Dokumentacja dla tej klasy została wygenerowana z plików\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Karol/source/repos/\+Gra\+G\+O/\+Gra\+G\+O/Game\+State\+Network.\+h\item 
C\+:/\+Users/\+Karol/source/repos/\+Gra\+G\+O/\+Gra\+G\+O/Game\+State\+Network.\+cpp\end{DoxyCompactItemize}
